
<div class="container MyClsQue MarginTop80 MarginBottom30">
    <div  class="row MarginBottom0">
        <div class="col-md-6 Mycol1"><h4 class="my-4">{{title + ' Interview Questions'}}</h4></div>
        <div class="col-md-6 Mycol2"><button  class="btn btn-success float-right" (click)="AddQuestion()">Add Question</button></div>
    </div>
    <div *ngIf="NoRecordExist" class="alert alert-info">
       No record exist against {{title}} category.
    </div>
    <div class="row" *ngIf="!NoRecordExist" style="margin-bottom:4px;">
    <div class="col-md-12">
        <div>
            <span style="border-left: 5px solid green;"></span><span style="margin-left: 3px;">Published</span>
            <span style="margin-left: 6px;border-left: 5px solid yellow;"></span>
            <span style="margin-left: 3px;">Unpublished</span>
            <i class="fa fa-filter fa-2x float-right" title="Search" style="cursor:pointer;margin-bottom:4px;" (click)="ShowHideSearchBar()" aria-hidden="true"></i>
        </div>        
        <div class="form-group">
            <input type="text" *ngIf="issearchBarShow" class="form-control" placeholder="Search" [(ngModel)]="searchText" />
        </div>
    </div>

    </div>
  <div id="accordion">
    <div class="card" *ngFor="let item of questionList | filterList : searchText">
      <div [ngClass]="(item.divContent != '') ?'card-header borderLeftGreen' : 'card-header borderLeftYellow' "  [attr.id]="'heading'+item.divId">
        <h5 class="mb-0">
          <button class="btn  wrapText btn-link" data-toggle="collapse" [attr.data-target]="'#collapse' +item.divId" aria-expanded="true" [attr.aria-controls]="'collapse'+item.divId">
            {{item.title}}
          </button>

          <span *ngIf="isAdminAccess" class="float-right" style="cursor: pointer;margin-top: 5px;" (click)="UpdateAnswer(item)">
              <i class="fa fa-pencil" aria-hidden="true"></i>
          </span>
        </h5>
      </div>

      <div [attr.id]="'collapse'+item.divId" [ngClass]="(item.divId =='1')?'collapse show':'collapse'"  [attr.aria-labelledby]="'heading'+item.divId" data-parent="#accordion">
        <div class="card-body">  
          <div  [innerHtml]="item.divContent | safeHtml"></div>        
          <span *ngIf="item.divContent == ''">Answer is not published yet.</span>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- <div [hidden]="isHidden"> -->
    <div class="modal" id="MyModal" tabindex="-1" role="dialog">
        <div class="modal-dialog" role="document">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title">Edit Answer</h5>
              <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
              <!-- <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </button> -->
            </div>
            <div class="modal-body">
                <form #MyForm="ngForm">
                    <div class="form-group">
                      <label>Title</label>
                      <input type="text" class="form-control" required id="selectedtitle" name="selectedtitle" [(ngModel)]="selectedItemObject.title" #selectedtitle="ngModel" placeholder="what is class ?">
                      <span style="color: red;margin-left: 2px;" *ngIf="selectedtitle.invalid && (selectedtitle.dirty || selectedtitle.touched)">Title is required</span>
                    </div>
                    <div class="form-group">
                      <label>Category</label>
                      <select class="form-control" id="selectedType" name="selectedType"  [(ngModel)]="selectedCatType" required #selectedType="ngModel" disabled="disabled">
                        <option [ngValue]="null">Select Category</option>
                        <option value="CSharp">C#.Net</option>
                        <option value="MVC">ASP.Net MVC</option>
                        <option value="WebApi">Web API</option>
                        <option value="ASP">ASP.Net</option>
                        <option value="WCF">WCF</option>
                        <option value="MSSql">Sql Server</option>
                      </select>
                      <span style="color: red;margin-left: 2px;" *ngIf="selectedType.invalid && (selectedType.dirty || selectedType.touched)">Category is required</span>
                    </div>            
                    <div class="form-group">
                      <label>Answer</label>
                      <textarea class="form-control" placeholder="Answer" id="divContent" required name="divContent" [(ngModel)]="selectedItemObject.divContent" #divContent="ngModel" rows="3"></textarea>
                      <span style="color: red;margin-left: 2px;" *ngIf="divContent.invalid && (divContent.dirty || divContent.touched)">Answer is required</span>
                    </div>                    
                  </form>
            </div>
            <div class="modal-footer">
              <button type="button" [disabled]="MyForm.invalid" class="btn btn-success" (click)="UpdateAnswerToDB()">Save changes</button>
              <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
            </div>
          </div>
        </div>
      </div>
<!-- </div> -->